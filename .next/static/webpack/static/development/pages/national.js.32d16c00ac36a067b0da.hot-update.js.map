{"version":3,"file":"static/webpack/static/development/pages/national.js.32d16c00ac36a067b0da.hot-update.js","sources":["webpack:///./pages/national.js"],"sourcesContent":["import Head from '../components/head'\nimport axios from 'axios'\nimport GoingChart from '../components/going-chart'\nimport DiffTable from '../components/diff-table';\nimport MonthChart from '../components/month-chart';\nimport Menu from '../components/menu';\nimport Select from 'react-select';\n\n\nexport default class National extends React.Component {\n  topYear = [\n    {value: 2014, label: '2014'},\n    {value: 2015, label: '2015'},\n    {value: 2016, label: '2016'}\n  ]\n\n  state = {\n    selectedYear: 2016\n  }\n\n  constructor(props) {\n    super(props);\n    this.handleYearChange = this.handleYearChange.bind(this);\n    this.setState({data: this.props.data});\n  }\n\n  static async getInitialProps() {\n    const response = await axios.get('http://localhost:3000/BM/national/2016/?countries=Belgium,France');\n    return ({\n      data: response.data\n    })\n  }\n\n  handleYearChange = async (selectedYear) => {\n    this.setState({selectedYear});\n    const response = await axios.get('http://localhost:3000/BM/national/'+selectedYear.value+'/?countries=Belgium,France');\n    this.setState({data: response.data});\n  }\n  \n  \n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    const { selectedYear } = this.state;\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <div className=\"position-fixed\" >\n            <Menu>\n              <form onSubmit={this.handleSubmit.bind(this)}>\n                <h1>Menu</h1>\n                <div className=\"form-group row\">\n                  <div className=\"col-md-10\">\n                    <Select value={selectedYear} onChange={this.handleYearChange} options={this.topYear}/>\n                  </div>\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary\">Update</button>\n              </form>\n            </Menu>\n          </div>\n        </div>\n        <div className=\"col-md-10\" style={{ borderLeft: '1px #e9ecef solid' }}>\n          <Head title=\"National\" />\n          <h1>National</h1>\n          <GoingChart evolution={this.props.data['Evolution']} year={this.state.selectedYear['value']} />\n\n          <DiffTable evolution={this.props.data['Evolution']} year={this.state.selectedYear['value']} var='Ingoing' />\n          <DiffTable evolution={this.props.data['Evolution']} year={this.state.selectedYear['value']} var='Outgoing' />\n\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <MonthChart evolution={this.props.data['Monthly']} var='Ingoing' />\n            </div>\n            <div className=\"col-md-6\">\n              <MonthChart evolution={this.props.data['Monthly']} var='Outgoing' />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAWA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AATA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAMA;AAHA;AADA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AACA;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAdA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAIA;AACA;;;AAeA;AACA;AACA;;;AAEA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAMA;;;;;;;;;;;;;AAvDA;AACA;;AADA;AACA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AApBA;AACA;;;;;A","sourceRoot":""}